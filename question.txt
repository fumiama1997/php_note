3/8(金) 質問・確認内容

20章の修正を確認してもらう。
修正箇所
・商品ポイントと商品の名前を取得するクエリを別々に作っていたので一つにまとめた。
・point_gift_idに対するバリデーションの作成。
・商品購入後のポイントを$point =  $point - $goods_point;に修正
 (前回クエリ実行で複雑にしていた)
・クエリ実行ごとにエラーチェックを行う。(empty($err_msg))
・処理確定後に  $message = '景品 [' . $name . '] を購入しました。';を入力


21章 自動販売機 
質問

現状の進捗状況
// コードを書く前に何がやりたいのか、どうすればできるのかを箇条書きで整理してからコードを記載する。
    作業時に上記確認


次回やること
ドリンクの購入が正常に完了した場合、指定ドリンクの在庫を減らす（管理ページの在庫数が減っていること）。
購入するドリンクを指定していない場合、エラーメッセージを表示して、ドリンクを購入することはできない。
投入金額と指定ドリンクを購入するときに必要な金額を比べ、もし投入金額が足りない場合はエラーメッセージを表示して、ドリンクを購入することはできない。
投入金額は0以上の整数のみ可能である。0以上の整数以外の場合は、エラーメッセージを表示して、ドリンクを購入することはできない。
指定ドリンクの在庫を確認し、もし在庫がなかった場合はエラーメッセージを表示して、ドリンクを購入することはできない（確認手順の例は以下になります）。
購入ページで、在庫がある商品を表示する。


もう１つのブラウザで管理ページを表示させて、購入予定の在庫がある商品の在庫数を0に変更する（在庫なしにする）。
別のブラウザで開いていた購入ページで、在庫数を0に変更した商品を選択して、購入するボタンを押した場合、エラーメッセージが表示されること

指定ドリンクのステータスを確認し、もしステータスが非公開の場合はエラーメッセージを表示して、ドリンクを購入することはできない（確認手順の例は以下になります）。
購入ページで、ステータスが公開の商品を表示する。
もう１つのブラウザで管理ページを表示させて、購入予定のステータスが公開である商品について、ステータスを非公開に変更する（ステータスを非公開にする）。
別のブラウザで開いていた購入ページで、ステータスを非公開に変更した商品を選択して、購入するボタンを押した場合、エラーメッセージが表示されること。
ドリンクの購入が正常に完了した場合、指定ドリンクと購入日時の情報をデータベースに保存する（※この要件は必須ではなく任意です）。

